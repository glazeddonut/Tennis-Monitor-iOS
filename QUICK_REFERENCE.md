# Quick Reference Guide\n\n## File Structure\n\n```\nTennis-Monitor-iOS/\n├── Sources/\n│   ├── TennisMonitorApp/\n│   │   └── TennisMonitorApp.swift (app entry point)\n│   ├── Networking/\n│   │   └── APIClient.swift (API communication)\n│   ├── Models/\n│   │   └── APIModels.swift (data structures)\n│   └── Views/\n│       ├── HomeView.swift + HomeViewModel.swift\n│       ├── SettingsView.swift + SettingsViewModel.swift\n│       └── LogsView.swift + LogsViewModel.swift\n├── Package.swift (manifest)\n├── README.md (main docs)\n├── GETTING_STARTED.md (quick start)\n├── INSTALL.md (installation)\n├── ARCHITECTURE.md (technical docs)\n└── LICENSE\n```\n\n## Quick Commands\n\n```bash\n# Open in Xcode\ncd /Users/thomastolborg/Documents/Tennis-Monitor-iOS\nopen . -a Xcode\n\n# Build\nxcodebuild build -scheme TennisMonitorApp\n\n# Run on simulator\nxcodebuild run -scheme TennisMonitorApp\n\n# Clean\nxcodebuild clean\n```\n\n## Setup Checklist\n\n- [ ] Open in Xcode\n- [ ] Select iPhone simulator or device\n- [ ] Press Cmd+R to build and run\n- [ ] Go to Settings tab\n- [ ] Enter backend URL (e.g., http://192.168.1.100:8000)\n- [ ] Enter API key from Tennis Monitor .env\n- [ ] Click \"Test Connection\"\n- [ ] Enter preferred courts and times\n- [ ] Click \"Save Changes\"\n- [ ] Go to Monitor tab\n- [ ] Click \"Start Monitor\"\n\n## Common Issues\n\n| Issue | Solution |\n|-------|----------|\n| Connection fails | Check backend URL and API key are correct |\n| \"Untrusted Developer\" | Settings → General → Device Management → Trust developer |\n| Build fails | Clean: Cmd+Shift+K, then rebuild |\n| Simulator won't start | Quit (Cmd+Q) and try again |\n| Logs not showing | Ensure monitor is running and connection is tested |\n\n## API Endpoints\n\n| Endpoint | Method | Purpose |\n|----------|--------|----------|\n| /health | GET | Test connection |\n| /api/status | GET | Get monitor status |\n| /api/monitor/start | POST | Start monitor |\n| /api/monitor/stop | POST | Stop monitor |\n| /api/config | GET | Get configuration |\n| /api/config/preferences | POST | Update preferences |\n| /api/monitor/logs | GET | Get logs |\n\n## ViewModel Methods\n\n### HomeViewModel\n```swift\nfunc loadInitialData() async\nfunc refreshStatus() async\nfunc startMonitor() async\nfunc stopMonitor() async\n```\n\n### SettingsViewModel\n```swift\nfunc loadConfig() async\nfunc testConnection() async\nfunc savePreferences() async\n```\n\n### LogsViewModel\n```swift\nfunc refreshLogs() async\nfunc startAutoRefresh()\n```\n\n## View Components\n\n### HomeView\n- StatusCard (monitor status display)\n- StatCard (statistics)\n- Control buttons\n- Error messages\n\n### SettingsView\n- API configuration form\n- Connection test button\n- Preferences input fields\n- Save button\n\n### LogsView\n- Log viewer\n- Filter menu\n- Refresh button\n- Auto-scrolling to latest\n\n## Data Models\n\n### API Responses\n- StatusResponse (monitor status)\n- ConfigResponse (configuration)\n- HealthResponse (health check)\n- LogsResponse (logs)\n- PreferencesUpdate (preferences update request)\n\n### Helper Models\n- MonitorStatus (user-friendly status)\n- MonitorConfig (user-friendly config)\n- APIError (error types)\n\n## Storage Keys\n\n```swift\nUserDefaults.standard.string(forKey: \"apiKey\")\nUserDefaults.standard.string(forKey: \"baseURL\")\n```\n\n## Configuration Details\n\n**Backend URL Format:**\n```\nhttp://192.168.1.100:8000\nhttp://10.0.0.5:8000\nhttps://tennis-monitor.example.com\n```\n\n**API Key:**\n- From Tennis Monitor `.env` file\n- Value of `API_KEY` variable\n\n**Preferences Format:**\n- Courts: `Court11, Court12` (comma-separated)\n- Times: `18:00, 19:00` (HH:MM format)\n- Interval: `300` (seconds)\n- Hour: `10` (0-23)\n\n## Testing Connection\n\nFrom Mac terminal:\n```bash\n# Health check\ncurl http://192.168.1.100:8000/health\n\n# With authentication\ncurl -H \"X-Token: your-api-key\" http://192.168.1.100:8000/api/status\n```\n\n## Performance Notes\n\n- Monitor tab refreshes every 10 seconds\n- Logs tab refreshes every 5 seconds\n- Auto-refresh timers cancel on view disappear\n- APIClient is a singleton (shared across app)\n\n## Key Swift Concepts Used\n\n- **async/await** - Asynchronous operations\n- **@Published** - Reactive property binding\n- **@MainActor** - UI thread safety\n- **Codable** - JSON encoding/decoding\n- **SwiftUI** - UI framework\n- **MVVM** - Architecture pattern\n\n## Debugging Tips\n\n1. **View Debug Output:**\n   - Xcode → View → Debug Area → Show Console\n   - Look for error messages and logs\n\n2. **Test API Directly:**\n   - Use curl command from terminal\n   - Verify backend responds correctly\n\n3. **Check UserDefaults:**\n   ```bash\n   defaults read | grep -i tennis\n   ```\n\n4. **Simulate Network Issues:**\n   - Xcode → Debug → Simulate Network Link Conditioner\n\n## Customization Examples\n\n### Change Refresh Interval\nIn HomeViewModel.swift:\n```swift\ntry? await Task.sleep(nanoseconds: 5_000_000_000) // 5 seconds instead of 10\n```\n\n### Add New View\n1. Create `Sources/Views/NewView.swift`\n2. Create `Sources/Views/NewViewModel.swift`\n3. Add to tab in `TennisMonitorApp.swift`\n\n### Add New API Endpoint\nIn APIClient.swift:\n```swift\nfunc myNewEndpoint() async throws -> MyResponseType {\n    let response: MyResponseType = try await performAuthenticatedRequest(\n        endpoint: \"/api/my-endpoint\",\n        method: \"GET\"\n    )\n    return response\n}\n```\n\n## Resources\n\n- Swift Documentation: https://swift.org/documentation/\n- SwiftUI Tutorials: https://developer.apple.com/tutorials/swiftui\n- Tennis Monitor Backend: https://github.com/glazeddonut/Tennis-Monitor\n\n## Version Info\n\n- iOS Minimum: 17.0\n- Swift: 5.9+\n- Xcode: 15.0+\n\n---\n\n**Last Updated:** December 11, 2025\n